<div class="app-container">
  <!-- Hero Section -->
  <section class="hero">
    <div class="hero-content">
      <h1 class="hero-title">
        Discover Events
        <span class="hero-title-accent">in {{ selectedCity() }}</span>
      </h1>

      <div class="hero-stats">
        <div class="stat-item">
          <span class="stat-number">{{ cityStats().eventCount }}</span>
          <span class="stat-label">Events</span>
        </div>
        <div class="stat-divider"></div>
        <div class="stat-item">
          <span class="stat-number">{{ formatVisitors(cityStats().totalVisitors) }}</span>
          <span class="stat-label">Visitors</span>
        </div>
        <div class="stat-divider"></div>
        <div class="stat-item">
          <span class="stat-number">{{ cityStats().avgRating }}â˜…</span>
          <span class="stat-label">Avg Rating</span>
        </div>
      </div>
    </div>

    <!-- Featured Event Card -->
    @if (featuredEvent(); as featured) {
      <div class="featured-card" [style.background]="'linear-gradient(135deg, ' + featured.color + ' 0%, ' + featured.color + 'dd 100%)'">
        <div class="featured-content">
          <div class="featured-header">
            <span class="featured-badge">â­ Top Rated</span>
            <span class="featured-category">{{ getCategoryIcon(featured.category) }}</span>
          </div>
          <h3 class="featured-title">{{ featured.title }}</h3>
          <p class="featured-subtitle">{{ featured.subtitle }}</p>
          <div class="featured-meta">
            <span class="featured-date">ğŸ“… {{ formatDate(featured.date) }}</span>
            <span class="featured-rating">{{ featured.rating }}â˜… ({{ featured.reviewCount }})</span>
          </div>
          <div class="featured-visitors">
            <span>ğŸ‘¥ {{ formatVisitors(featured.visitorCount) }} visitors</span>
          </div>
        </div>
      </div>
    }
  </section>

  <!-- City Selector -->
  <section class="city-section">
    <h2 class="section-title">Select City</h2>
    <div class="city-scroll">
      @for (city of cities(); track city.name) {
        <button 
          class="city-card" 
          [class.active]="selectedCity() === city.name"
          (click)="selectCity(city.name)"
        >
          <span class="city-icon">{{ city.icon }}</span>
          <span class="city-name">{{ city.name }}</span>
          <span class="city-count">{{ city.eventCount }} events</span>
        </button>
      }
    </div>
  </section>

  <!-- Category Filter -->
  <section class="category-section">
    <div class="category-scroll">
      @for (category of categories(); track category.id) {
        <button 
          class="category-chip"
          [class.active]="selectedCategory() === category.id"
          [style.--chip-color]="category.color"
          (click)="selectCategory(category.id)"
        >
          <span class="category-icon">{{ category.icon }}</span>
          <span class="category-name">{{ category.name }}</span>
        </button>
      }
    </div>
  </section>

  <!-- Events Grid Section -->
  <section class="events-section">
    <div class="section-header">
      <h2 class="section-title">
        @if (selectedCategory() === 'all') {
          All Events
        } @else {
          {{ selectedCategory() | titlecase }} Events
        }
        <span class="event-count">({{ filteredEvents().length }})</span>
      </h2>
    </div>

    @if (filteredEvents().length === 0) {
      <div class="no-events">
        <span class="no-events-icon">ğŸ”</span>
        <p>No events found for this category in {{ selectedCity() }}</p>
      </div>
    } @else {
      <div class="events-grid">
        @for (event of filteredEvents(); track event.id) {
          <article class="event-card" [style.--card-color]="event.color">
            <div class="event-card-header">
              <span class="event-category-badge">{{ getCategoryIcon(event.category) }}</span>
              <span class="event-date-badge">{{ formatDate(event.date) }}</span>
            </div>
            <div class="event-card-content">
              <h3 class="event-title">{{ event.title }}</h3>
              <p class="event-subtitle">{{ event.subtitle }}</p>
              <p class="event-location">ğŸ“ {{ event.neighborhood }}</p>
            </div>
            <div class="event-card-stats">
              <div class="event-stat">
                <span class="stat-icon">ğŸ‘¥</span>
                <span class="stat-value">{{ formatVisitors(event.visitorCount) }}</span>
              </div>
              <div class="event-stat">
                <span class="stat-icon">ğŸ’¬</span>
                <span class="stat-value">{{ event.reviewCount }}</span>
              </div>
              <div class="event-stat rating">
                <span class="stat-icon">â­</span>
                <span class="stat-value">{{ event.rating }}</span>
              </div>
            </div>
          </article>
        }
      </div>
    }
  </section>

  <!-- Bottom Navigation -->
  <nav class="bottom-nav">
    <button class="nav-btn active">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
        <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>
      </svg>
      <span>Home</span>
    </button>
    <button class="nav-btn">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
        <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
      </svg>
      <span>Explore</span>
    </button>
    <button class="nav-btn">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
        <path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"/>
      </svg>
      <span>Ratings</span>
    </button>
    <button class="nav-btn">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
        <path d="M3 13h8V3H3v10zm0 8h8v-6H3v6zm10 0h8V11h-8v10zm0-18v6h8V3h-8z"/>
      </svg>
      <span>Analytics</span>
    </button>
  </nav>
</div>
